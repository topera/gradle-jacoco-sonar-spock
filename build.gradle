// tested with gradle 4.0
plugins {
    id 'groovy' // this replaces and improves the 'java' plugin, adding Groovy support, used in tests
    id 'jacoco'
    id 'org.sonarqube' version "2.5"
}

repositories {
    jcenter()
}

dependencies {
    // spock
    testCompile 'org.spockframework:spock-core:1.1-groovy-2.4'
    testCompile 'org.codehaus.groovy:groovy-all:2.4.12' // in some cases this line is required...
}

jacocoTestReport {
    // we are forcing the execution of 'test' before the execution of 'jacocoTestReport'
    dependsOn test
}